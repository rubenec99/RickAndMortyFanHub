<table *ngIf="users.length > 0" class="table table-striped">
  <thead>
    <tr>
      <table *ngIf="users.length > 0" class="table table-striped">
        <thead>
          <tr>
            <th>
              <button
                class="btn btn-danger"
                (click)="deleteSelectedUsers()"
                title="Eliminar usuarios seleccionados"
              >
                <i class="fa-solid fa-trash"></i> Eliminar seleccionados
              </button>
            </th>
            <th (click)="toggleSort('id')">
              Id<i class="fa-solid fa-sort"></i>
            </th>
            <th (click)="toggleSort('first_name')">
              Nombre <i class="fa-solid fa-sort"></i>
            </th>
            <th (click)="toggleSort('last_name')">
              Apellidos <i class="fa-solid fa-sort"></i>
            </th>
            <th (click)="toggleSort('email')">
              Correo electr√≥nico <i class="fa-solid fa-sort"></i>
            </th>
            <th (click)="toggleSort('username')">
              Nombre de usuario <i class="fa-solid fa-sort"></i>
            </th>
            <th (click)="toggleSort('user_type')">
              Privilegios <i class="fa-solid fa-sort"></i>
            </th>
            <th (click)="toggleSort('birth_date')">
              Fecha de nacimiento <i class="fa-solid fa-sort"></i>
            </th>
            <th>Acciones</th>
          </tr>
          <tr></tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users">
            <td>
              <input type="checkbox" [(ngModel)]="user.isSelected" />
            </td>
            <td>{{ user.id }}</td>
            <td>{{ user.first_name }}</td>
            <td>{{ user.last_name }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.username }}</td>
            <td>
              <select [(ngModel)]="user.user_type">
                <option value="admin">Admin</option>
                <option value="normal">Normal</option>
              </select>
            </td>
            <td>{{ user.birth_date | date : "dd-MM-yyyy" }}</td>
            <td>
              <button
                class="btn btn-primary"
                [disabled]="!hasUserTypeChanged(user)"
                (click)="confirmUpdate(user.id, user.user_type)"
              >
                <i class="fa-solid fa-rotate"></i>
              </button>

              <button (click)="confirmDelete(user.id)" class="btn btn-danger">
                <i class="fa-solid fa-trash"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </tr>
  </thead>
</table>
